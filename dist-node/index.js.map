{"version":3,"file":"index.js","sources":["../dist-src/index.js"],"sourcesContent":["import { ESLint } from 'eslint';\nconst defaultOptions = {\n    options: {\n        cache: true,\n        cacheStrategy: 'content',\n        fix: false,\n    },\n    globs: [],\n    formatter: 'stylish',\n};\nconst plugin = (_, pluginOptions) => {\n    const opts = { ...defaultOptions, ...pluginOptions };\n    const eslint = new ESLint(opts.options);\n    const runLint = async () => {\n        const lintResult = await eslint.lintFiles(opts.globs);\n        const formatter = typeof opts.formatter === 'function'\n            ? opts.formatter\n            : await eslint.loadFormatter(opts.formatter);\n        const resultText = formatter.format(lintResult);\n        if (opts.options.fix && lintResult)\n            ESLint.outputFixes(lintResult);\n        console.log(resultText);\n    };\n    return {\n        name: '@canarise/snowpack-eslint-plugin',\n        run() {\n            return runLint();\n        },\n        onChange() {\n            return runLint();\n        },\n    };\n};\nexport default plugin;\n"],"names":["defaultOptions","options","cache","cacheStrategy","fix","globs","formatter","plugin","_","pluginOptions","opts","eslint","ESLint","runLint","lintResult","lintFiles","loadFormatter","resultText","format","outputFixes","console","log","name","run","onChange"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,MAAMA,cAAc,GAAG;AACnBC,EAAAA,OAAO,EAAE;AACLC,IAAAA,KAAK,EAAE,IADF;AAELC,IAAAA,aAAa,EAAE,SAFV;AAGLC,IAAAA,GAAG,EAAE;AAHA,GADU;AAMnBC,EAAAA,KAAK,EAAE,EANY;AAOnBC,EAAAA,SAAS,EAAE;AAPQ,CAAvB;;AASA,MAAMC,MAAM,GAAG,CAACC,CAAD,EAAIC,aAAJ,KAAsB;AACjC,QAAMC,IAAI,qCAAQV,cAAR,GAA2BS,aAA3B,CAAV;;AACA,QAAME,QAAM,GAAG,IAAIC,aAAJ,CAAWF,IAAI,CAACT,OAAhB,CAAf;;AACA,QAAMY,OAAO,GAAG,YAAY;AACxB,UAAMC,UAAU,GAAG,MAAMH,QAAM,CAACI,SAAP,CAAiBL,IAAI,CAACL,KAAtB,CAAzB;AACA,UAAMC,SAAS,GAAG,OAAOI,IAAI,CAACJ,SAAZ,KAA0B,UAA1B,GACZI,IAAI,CAACJ,SADO,GAEZ,MAAMK,QAAM,CAACK,aAAP,CAAqBN,IAAI,CAACJ,SAA1B,CAFZ;AAGA,UAAMW,UAAU,GAAGX,SAAS,CAACY,MAAV,CAAiBJ,UAAjB,CAAnB;AACA,QAAIJ,IAAI,CAACT,OAAL,CAAaG,GAAb,IAAoBU,UAAxB,EACIF,aAAM,CAACO,WAAP,CAAmBL,UAAnB;AACJM,IAAAA,OAAO,CAACC,GAAR,CAAYJ,UAAZ;AACH,GATD;;AAUA,SAAO;AACHK,IAAAA,IAAI,EAAE,kCADH;;AAEHC,IAAAA,GAAG,GAAG;AACF,aAAOV,OAAO,EAAd;AACH,KAJE;;AAKHW,IAAAA,QAAQ,GAAG;AACP,aAAOX,OAAO,EAAd;AACH;;AAPE,GAAP;AASH,CAtBD;;;;"}